(this["webpackJsonpwieldy-hook"]=this["webpackJsonpwieldy-hook"]||[]).push([[12],{581:function(e,t,a){"use strict";a.r(t);var n=a(28),c=a(0),l=a.n(c),i=a(8),o=a(546),r=a(116),s=a(72),u=a(550),m=a(66),d=a(545),b=a(586),f=(a(198),a(94)),j=a(178),O=a.n(j);t.default=function(e){var t=Object(i.e)((function(e){return e.crud.role_id})),a=Object(i.e)((function(e){return e.crud.deleted})),j=Object(c.useState)(""),g=Object(n.a)(j,2),E=g[0],h=g[1],x=Object(c.useState)(0),p=Object(n.a)(x,2),y=p[0],S=p[1],k=Object(c.useState)(0),w=Object(n.a)(k,2),C=w[0],v=w[1],F=Object(c.useState)(!1),N=Object(n.a)(F,2),B=N[0],R=N[1],I=Object(c.useState)(!1),A=Object(n.a)(I,2),T=A[0],q=A[1],D=Object(i.e)((function(e){return e.crud.getrole})),J=Object(i.d)(),V=o.a.useForm(),H=Object(n.a)(V,1)[0],K=Object(c.useState)(!1),W=Object(n.a)(K,2),Y=W[0],Z=W[1],_=Object(c.useState)(0),z=Object(n.a)(_,2),G=z[0],L=z[1];function M(e){J(Object(f.Z)(e.target.getAttribute("data-id"))),S(1)}function P(e){q(e.target.getAttribute("data-id")),R(!0)}Object(c.useEffect)((function(){0===C&&J(Object(f.H)()),v(1)})),Object(c.useEffect)((function(){""!==t&&0!==y&&(H.setFieldsValue({role:t.data[0].role}),h(t.data[0].role),S(0))})),Object(c.useEffect)((function(){"success"==a&&0!=G&&(Z(!0),J(Object(f.m)("")),L(1))}));var Q=[];return console.log("getroles"),console.log(D),D.length>0&&(Q=D.map((function(e,t){return{role:e.role,action:l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("i",{style:{marginRight:"7px",height:"15px"},onClick:M,"data-id":e.id,className:"icon icon-edit"}),l.a.createElement("i",{"data-id":e.id,onClick:P,style:{height:"15px"},className:"icon icon-trash"}))),index:e.id,key:e.id}}))),l.a.createElement("div",null,l.a.createElement(o.a,{form:H,initialValues:{remember:!0},name:"basic",onFinish:function(e){""==t?J(Object(f.W)({role:E})):""!=t&&(J(Object(f.ib)({role:E,id:t.data[0].id})),S(0),J(Object(f.j)(""))),H.resetFields()},onFinishFailed:function(e){console.log("Failed:",e)},className:"gx-signin-form gx-form-row0"},l.a.createElement(r.a,null,l.a.createElement(s.a,{className:"label",xl:3,lg:3,md:3,sm:24,xs:24},l.a.createElement("p",null,"Create Role")),l.a.createElement(s.a,{xl:5,lg:5,md:5,sm:24,xs:24},l.a.createElement(o.a.Item,{rules:[{required:!0,message:"Role is required"}],name:"role"},l.a.createElement(u.a,{value:E,onChange:function(e){h(e.target.value),console.log(D)},placeholder:"Role"}))),l.a.createElement(s.a,{xl:4,lg:4,md:4,sm:24,xs:24},l.a.createElement(o.a.Item,null,l.a.createElement(m.a,{type:"primary",className:"gx-mb-0",htmlType:"submit"},"Submit"))))),l.a.createElement(d.a,{title:"Roles"},l.a.createElement(b.a,{className:"gx-table-responsive",columns:[{title:"Role Name",dataIndex:"role",key:"role"},{title:"Action",dataIndex:"action",key:"action"}],dataSource:Q})),l.a.createElement(O.a,{show:B,custom:!0,showCancel:!0,confirmBtnText:"OK",cancelBtnText:"Cancel",confirmBtnBsStyle:"primary",cancelBtnBsStyle:"default",title:"Do you want to delete?",onConfirm:function(){R(!1),J(Object(f.Y)({id:T,status:2})),L(1)},onCancel:function(){R(!1)}}),l.a.createElement(O.a,{show:Y,success:!0,title:"Deleted Successfully",onConfirm:function(){Z(!1)}}))}}}]);
//# sourceMappingURL=12.689e34e1.chunk.js.map