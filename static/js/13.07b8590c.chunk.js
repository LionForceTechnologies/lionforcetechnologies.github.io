(this["webpackJsonpwieldy-hook"]=this["webpackJsonpwieldy-hook"]||[]).push([[13],{583:function(e,t,a){"use strict";a.r(t);var n=a(124),c=a(28),i=a(0),r=a.n(i),l=a(8),o=a(546),s=a(533),u=a(116),d=a(72),m=a(545),b=a(586),O=a(66),f=(a(198),a(94)),j=a(178),g=a.n(j);t.default=function(e){var t=Object(l.e)((function(e){return e.crud.rolepermissionid})),a=Object(l.e)((function(e){return e.crud.rolepermission})),j=Object(l.e)((function(e){return e.crud.deletepermissionid})),p=Object(l.e)((function(e){return e.crud.getrole})),h=Object(l.e)((function(e){return e.crud.pagepermission})),y=Object(i.useState)(""),E=Object(c.a)(y,2),x=E[0],S=E[1],k=Object(i.useState)(""),v=Object(c.a)(k,2),C=(v[0],v[1],Object(i.useState)("")),w=Object(c.a)(C,2),F=(w[0],w[1],Object(i.useState)("")),_=Object(c.a)(F,2),I=(_[0],_[1],Object(i.useState)("")),B=Object(c.a)(I,2),R=(B[0],B[1],Object(i.useState)(0)),N=Object(c.a)(R,2),A=N[0],T=N[1],q=Object(i.useState)(0),V=Object(c.a)(q,2),D=V[0],J=V[1],G=Object(i.useState)(!1),H=Object(c.a)(G,2),K=H[0],L=H[1],P=Object(i.useState)(!1),z=Object(c.a)(P,2),M=z[0],Q=z[1],U=(Object(l.e)((function(e){return e.crud.getrole})),Object(l.d)()),W=o.a.useForm(),X=Object(c.a)(W,1)[0],Y=Object(i.useState)(!1),Z=Object(c.a)(Y,2),$=Z[0],ee=Z[1],te=Object(i.useState)(0),ae=Object(c.a)(te,2),ne=ae[0],ce=ae[1],ie=Object(i.useState)([]),re=Object(c.a)(ie,2),le=(re[0],re[1],Object(i.useState)("")),oe=Object(c.a)(le,2),se=(oe[0],oe[1],Object(i.useState)(0)),ue=Object(c.a)(se,2),de=(ue[0],ue[1],Object(i.useState)([])),me=Object(c.a)(de,2),be=me[0],Oe=me[1],fe=Object(i.useState)(""),je=Object(c.a)(fe,2),ge=je[0],pe=je[1],he=Object(i.useState)(!1),ye=Object(c.a)(he,2),Ee=ye[0],xe=ye[1],Se=Object(i.useState)(0),ke=Object(c.a)(Se,2),ve=ke[0],Ce=ke[1],we=s.a.Option;function Fe(e){U(Object(f.v)(e.target.getAttribute("data-id"))),T(1)}function _e(e){1==e.target.checked&&pe(e.target.getAttribute("data-id"))}function Ie(e){Q(e.target.getAttribute("data-id")),L(!0)}Object(i.useEffect)((function(){0===D&&(U(Object(f.H)()),U(Object(f.G)()),U(Object(f.I)())),J(1)})),Object(i.useEffect)((function(){"success"==j&&0!=ne&&(ee(!0),U(Object(f.e)("")),ce(1))})),Object(i.useEffect)((function(){""!==t&&0!==A&&("no data found"!=t?(X.setFieldsValue({role:t.data[0].role}),S(t.data[0].role_id),Oe(t.data[0].role_permission)):alert("there is no record"),T(0))})),Object(i.useEffect)((function(){if(""!=t&&0===ve){Oe([]);for(var e=function(e){document.getElementById(t.data[0].role_permission[e])&&(document.getElementById(t.data[0].role_permission[e]).checked=!0,Oe((function(a){return[].concat(Object(n.a)(a),[t.data[0].role_permission[e]])})))},a=0;a<t.data[0].role_permission.length;a++)e(a);Ce(1)}})),Object(i.useEffect)((function(){""!==ge&&-1==be.indexOf(ge)&&Oe((function(e){return[].concat(Object(n.a)(e),[ge])}))}),[ge]);var Be=[];h.length>0&&(Be=""!==t?h.map((function(e,t){return{page:e.menu,action:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("input",{type:"checkbox",style:{marginRight:"7px",height:"15px"},onChange:_e,id:e.id,"data-id":e.id}))),index:e.id,key:e.id}})):h.map((function(e,t){return{page:e.menu,action:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("input",{type:"checkbox",style:{marginRight:"7px",height:"15px"},onChange:_e,"data-id":e.id}))),index:e.id,key:e.id}})));var Re=[];a.length>0&&(Re=a.map((function(e,t){return{role:e.role,action:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("i",{style:{marginRight:"7px",height:"15px"},onClick:Fe,"data-id":e.id,className:"icon icon-edit"}),r.a.createElement("i",{"data-id":e.id,onClick:Ie,style:{height:"15px"},className:"icon icon-trash"}))),index:e.id,key:e.id}})));var Ne=[];return p.length>0&&(Ne=p.map((function(e,t){return r.a.createElement(we,{key:e.id,value:e.id},e.role)}))),r.a.createElement("div",null,r.a.createElement(o.a,{form:X,initialValues:{remember:!0},name:"usercreation",onFinish:function(e){""!=t?0==be.length?xe(!0):U(Object(f.V)({role_id:x,role_permission:be,id:t.data[0].id})):""==t&&(0==be.length?xe(!0):U(Object(f.hb)({role_id:x,role_permission:be})),T(0)),X.resetFields()},onFinishFailed:function(e){console.log("Failed:",e)},className:"gx-signin-form gx-form-row0"},r.a.createElement(u.a,null,r.a.createElement(d.a,{xl:12,lg:12,md:12,sm:24,xs:24},r.a.createElement(m.a,{title:"Roles capability"},r.a.createElement(o.a.Item,{rules:[{required:!0,message:"This field is required"}],name:"role"},r.a.createElement(s.a,{value:x,onChange:function(e){S(e)},placeholder:"Role"},Ne)),r.a.createElement(b.a,{className:"gx-table-responsive",columns:[{title:"Page",dataIndex:"page",key:"page"},{title:"Action",dataIndex:"action",key:"action"}],dataSource:Be}),r.a.createElement(d.a,{xl:4,lg:4,md:4,sm:24,xs:24},r.a.createElement(o.a.Item,null,r.a.createElement(O.a,{type:"primary",className:"gx-mb-0",htmlType:"submit"},"Submit"))))),r.a.createElement(d.a,{xl:12,lg:12,md:12,sm:24,xs:24},r.a.createElement(m.a,{title:"List Of Roles Capability"},r.a.createElement(b.a,{className:"gx-table-responsive",columns:[{title:"Role",dataIndex:"role",key:"role"},{title:"Action",dataIndex:"action",key:"action"}],dataSource:Re}))))),r.a.createElement(g.a,{show:K,custom:!0,showCancel:!0,confirmBtnText:"OK",cancelBtnText:"Cancel",confirmBtnBsStyle:"primary",cancelBtnBsStyle:"default",title:"Do you want to delete?",onConfirm:function(){L(!1),U(Object(f.q)({id:M,status:2})),ce(1)},onCancel:function(){L(!1)}}),r.a.createElement(g.a,{show:$,success:!0,title:"Deleted Successfully",onConfirm:function(){Q(""),ee(!1)}}),r.a.createElement(g.a,{show:Ee,warning:!0,title:"Select any page for this role ",onConfirm:function(){xe(!1)}}))}}}]);
//# sourceMappingURL=13.07b8590c.chunk.js.map