{"version":3,"sources":["routes/quicklinks/index.js"],"names":["Quicklinks","props","red_data","useSelector","crud","getlinks","roleid","editqlink","ifdeleted","deletedlink","submenu_id","menudeleteMessage","checksubmenu","useState","menu","setmenu","deleteid","setdeleteid","imageUrl","setimageUrl","image","setimage","edit","setedit","link","setlink","deletes","setdeletes","deletestatus","setdeletestatus","nodeletestatus","setnodeletestatus","warningdelete","setwarningdelete","sub_menu_delete_custom","setsub_menu_delete_custom","setsubmenudeletes","custom","setcustom","stop","setstop","Form","useForm","form","dispatch","useDispatch","Select","Option","useEffect","getlink","setFieldsValue","data","name","hostname","icon","cleardeletelink","Edit","e","editlink","target","getAttribute","Delete","length","map","item","i","action","style","display","marginRight","height","onClick","data-id","id","className","index","key","initialValues","remember","onFinish","values","alert","putlink","img","undefined","updatelink","cleareditlink","document","getElementById","value","resetFields","onFinishFailed","errorInfo","console","log","xl","lg","md","sm","xs","Item","rules","required","message","onChange","placeholder","type","file","files","reader","FileReader","readAsDataURL","onloadend","result","bind","this","width","src","htmlType","title","columns","dataIndex","dataSource","show","showCancel","confirmBtnText","cancelBtnText","confirmBtnBsStyle","cancelBtnBsStyle","onConfirm","deletelink","status","onCancel","success","warning"],"mappings":"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","file":"static/js/11.f6934838.chunk.js","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Card, Divider, Table } from \"antd\";\r\nimport { Button, Checkbox, Form, Input, Select } from \"antd\";\r\nimport axios from 'axios';\r\nimport { putlink,getlink,editlink,cleareditlink,deletelink,cleardeletelink,updatelink } from \"../../appRedux/actions/Crud\";\r\nimport { Col, Row, } from \"antd\";\r\nimport SweetAlert from \"react-bootstrap-sweetalert\";\r\nimport {hostname} from \"../../hostname\";\r\n// import {Button, Card, Col, Row} from \"antd\";\r\nconst Quicklinks = (props) => {\r\n  const red_data = useSelector(({ crud }) => crud.getlinks);\r\n  const roleid = useSelector(({ crud }) => crud.editqlink);\r\n  const ifdeleted = useSelector(({ crud }) => crud.deletedlink);\r\n  const submenuid = useSelector(({ crud }) => crud.submenu_id);\r\n  const m_menudeleteMessage = useSelector(({ crud }) => crud.menudeleteMessage);\r\n  const checksubmenuMessage = useSelector(({ crud }) => crud.checksubmenu);\r\n  const [menu, setmenu] = useState('');\r\n  const [submenu, setsubmenu] = useState('');\r\n  const [deleteid, setdeleteid] = useState('');\r\n  const [mainmenu, setmainmenu] = useState('');\r\n  const [imageUrl, setimageUrl] = useState('');\r\n  const [image, setimage] = useState('');  \r\n  const [edit, setedit] = useState(0);\r\n  const [link, setlink] = useState('');\r\n  const [deletes, setdeletes] = useState(0);\r\n  const [deletestatus, setdeletestatus] = useState(false);\r\n  const [nodeletestatus, setnodeletestatus] = useState(false);\r\n  const [warningdelete, setwarningdelete] = useState(false);\r\n  const [parent, setparent] = useState('');\r\n  const [sub_edit, setsub_edit] = useState(0);\r\n  const [nth, setnth] = useState('');\r\n  const [sub_menu_delete_custom, setsub_menu_delete_custom] = useState(false);\r\n  const [operation, setoperation] = useState(0);\r\n  const [submenudeletes, setsubmenudeletes] = useState(0);\r\n  const [submenudeleteid, setsubmenudeleteid] = useState('');\r\n  const [dataManage, setdataManage] = useState([]);\r\n  const [index, setindex] = useState('');\r\n  const [custom, setcustom] = useState(false);\r\n  const [checkover, setcheckover] = useState(0);\r\n  const [stop, setstop] = useState(0);\r\n  const [form] = Form.useForm();\r\n  const [formsub] = Form.useForm();\r\n  const dispatch = useDispatch();\r\n  let ds = dataManage\r\n  const { Option } = Select;\r\n\r\n\r\n  useEffect(() => {\r\n    if (stop === 0) {\r\n      dispatch(getlink())\r\n    }\r\n    setstop(1)\r\n  })\r\n\r\n\r\n  useEffect(()=>{\r\n    if(roleid !== ''){\r\n      if(edit !== 0){\r\n        form.setFieldsValue({\r\n          menu: roleid.data[0].name,\r\n          link : roleid.data[0].link\r\n        })\r\n        setlink(roleid.data[0].link)\r\n        setmenu(roleid.data[0].name)\r\n        // setimage(roleid.data[0].icon)\r\n        setimageUrl(`${hostname}/${roleid.data[0].icon}`)\r\n        setedit(0)\r\n      }\r\n    }\r\n  })\r\n\r\n  useEffect(()=>{\r\n    if(ifdeleted == 'success' ){\r\n      if(deletes != 0){\r\n        setdeletestatus(true)\r\n        dispatch(cleardeletelink(''))\r\n        setdeletes(1)\r\n      }\r\n    }\r\n  })\r\n\r\n\r\n  const onFinishFailed = errorInfo => {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n  const onFinish = values => {\r\n    if(roleid == ''){\r\n      if(image == ''){\r\n        alert('fill all fields')\r\n        return;\r\n      }\r\n        dispatch(putlink({\r\n            name : menu,\r\n            link : link,\r\n            icon : image\r\n        }))\r\n        }\r\n        else if(roleid != ''){\r\n          let img =  image\r\n          if(image == '' || image == null || image == undefined || image == 'undefined'){\r\n            img = imageUrl\r\n          }\r\n            dispatch(updatelink(\r\n              {\r\n                \"name\": menu,\r\n                link : link,\r\n                icon : img,\r\n                'id': roleid.data[0].id\r\n              }\r\n            ))\r\n          setedit(0);\r\n          dispatch(cleareditlink(''))\r\n          \r\n          }\r\ndocument.getElementById('quickimage').value = '';\r\nimageUrl('')\r\n    form.resetFields();\r\n  };\r\n\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Link Name',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n    },\r\n    {\r\n      title: 'Links',\r\n      dataIndex: 'link',\r\n      key: 'link',\r\n    },\r\n    {\r\n      title: 'Icon',\r\n      dataIndex: 'icon',\r\n      key: 'icon',\r\n    },\r\n    {\r\n      title: 'Action',\r\n      dataIndex: 'action',\r\n      key: 'action',\r\n    }\r\n  ];\r\n\r\n  function Edit(e) {\r\n    dispatch(editlink(e.target.getAttribute('data-id')))\r\n    setedit(1)\r\n  }\r\n  function Delete(e) {\r\n    setdeleteid(e.target.getAttribute('data-id'))\r\nsetcustom(true)\r\n  }\r\n\r\n  // ******sweet alert****\r\n  function confirmwarningdelete() {\r\n    setwarningdelete(false);\r\n    // setcustom(true);\r\n  }\r\n  function deleteconfirm() {\r\n    setcustom(false)\r\n    dispatch(deletelink({id : deleteid , status : 2}))\r\n    setdeletes(1)\r\n  }\r\n  function deletecancel() {\r\n    setcustom(false)\r\n  }\r\n  function deletesuccess() {\r\n    setdeletestatus(false)\r\n  }\r\n  function deletewarning() {\r\n    setnodeletestatus(false)\r\n  }\r\n  function submenudeletecancel() {\r\n    setsub_menu_delete_custom(false)\r\n  }\r\n  function submenudeleteconfirm() {\r\n    // dispatch(submenudelete({ id: submenudeleteid, status: 2 }))\r\n    setsubmenudeletes(1)\r\n    setsub_menu_delete_custom(false)\r\n  }\r\n  // ******sweet alert**** \r\n  const onCurrencyChange = newCurrency => {\r\n    setmainmenu(newCurrency)\r\n  };\r\n  function uploadimage(e){\r\n    let file = e.target.files[0];\r\n    setimage(file)\r\n    let reader = new FileReader();\r\n    let url = reader.readAsDataURL(file);\r\n    reader.onloadend = function (e) {\r\n        setimageUrl(reader.result)\r\n      }.bind(this);\r\n}\r\n  let data = [];\r\n  if (red_data.length > 0) {\r\n    data = red_data.map((item, i) => {\r\n      return {\r\n        name: item.name,\r\n        link: item.link,\r\n        icon: item.icon,\r\n        action: (<><div style={{ display: 'flex' }}><i style={{ marginRight: '7px', height: '15px' }} onClick={Edit} data-id={item.id} className=\"icon icon-edit\" /><i data-id={item.id} onClick={Delete} style={{ height: '15px' }} className=\"icon icon-trash\" /></div></>),\r\n        index: item.id,\r\n        key: item.id\r\n      }\r\n    });\r\n  }\r\n  return (\r\n    <div>\r\n      <Form\r\n        form={form}\r\n        initialValues={{ remember: true }}\r\n        name=\"basic\"\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n        className=\"gx-signin-form gx-form-row0\">\r\n        <Row>\r\n          <Col xl={8} lg={8} md={8} sm={24} xs={24}>\r\n            <Form.Item\r\n              rules={[{ required: true, message: 'Link name is required' }]} name=\"menu\">\r\n              <Input value={menu} onChange={(e) => {\r\n                setmenu(e.target.value)\r\n                console.log(red_data)\r\n              }} placeholder=\"LinkName\" />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col xl={8} lg={8} md={8} sm={24} xs={24}>\r\n            <Form.Item\r\n              rules={[{ required: true, message: 'link is required' }]} name=\"link\">\r\n              <Input value={link} onChange={(e) => {\r\n                setlink(e.target.value)\r\n              }} placeholder=\"Link\" />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col xl={8} lg={8} md={8} sm={24} xs={24}>\r\n\r\n              <input id='quickimage' type='file'  onChange={ uploadimage } />\r\n          </Col>\r\n          <Col xl={8} lg={8} md={8} sm={24} xs={24}>\r\n                        <img width={`100px`} height={`100px`} src={imageUrl} />\r\n          </Col>\r\n          <Col xl={8} lg={8} md={8} sm={24} xs={24}>\r\n            <Form.Item>\r\n              <Button type=\"primary\" className=\"gx-mb-0\" htmlType=\"submit\">\r\n                Submit\r\n              </Button>\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Card title=\"Menu Table\">\r\n          <Table className=\"gx-table-responsive\" columns={columns} dataSource={data} />\r\n\r\n        </Card>\r\n      </Form>\r\n     \r\n      <div className={`sweetalerts`}>\r\n        <SweetAlert show={custom}\r\n          custom\r\n          showCancel\r\n          confirmBtnText={`OK`}\r\n          cancelBtnText={`Cancel`}\r\n          confirmBtnBsStyle=\"primary\"\r\n          cancelBtnBsStyle=\"default\"\r\n          // customIcon={\"https://via.placeholder.com/500X330\"}\r\n          title={`Do you want to delete?`}\r\n          onConfirm={deleteconfirm}\r\n          onCancel={deletecancel}\r\n        >\r\n          {/* <IntlMessages id=\"sweetAlerts.youWillFind\"/> */}\r\n        </SweetAlert>\r\n        <SweetAlert show={deletestatus} success title={`Deleted Successfully`}\r\n          onConfirm={deletesuccess}>\r\n          {/* <IntlMessages id=\"sweetAlerts.btnClicked\"/> */}\r\n        </SweetAlert>\r\n        <SweetAlert show={nodeletestatus} warning title={`Failure`}\r\n          onConfirm={deletewarning}>\r\n          {/* <IntlMessages id=\"sweetAlerts.btnClicked\"/> */}\r\n        </SweetAlert>\r\n        <SweetAlert show={warningdelete} warning title={`This menu have submenus`}\r\n          onConfirm={confirmwarningdelete}>\r\n          {/* <IntlMessages id=\"sweetAlerts.btnClicked\"/> */}\r\n        </SweetAlert>\r\n        <SweetAlert show={sub_menu_delete_custom}\r\n          custom\r\n          showCancel\r\n          confirmBtnText={`OK`}\r\n          cancelBtnText={`Cancel`}\r\n          confirmBtnBsStyle=\"primary\"\r\n          cancelBtnBsStyle=\"default\"\r\n          // customIcon={\"https://via.placeholder.com/500X330\"}\r\n          title={`Do you want to delete?`}\r\n          onConfirm={submenudeleteconfirm}\r\n          onCancel={submenudeletecancel}\r\n        >\r\n          {/* <IntlMessages id=\"sweetAlerts.youWillFind\"/> */}\r\n        </SweetAlert>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Quicklinks;\r\n"],"sourceRoot":""}